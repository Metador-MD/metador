{% extends 'WhereGroupThemeBundle:Template:admin.html.twig' %}

{% block title %}{{ 'Gruppen'|trans }}{% endblock %}

{% block content %}
    {% for group in groups %}

    {% set class = '' %}
    {% if group.users|length == 0 %}
        {% set class = class ~ ' disabled' %}
    {% endif %}

    <div class="title-box {{ class|trim }}">
        <div class="title-box-logo">
            <a href="{{ path('metador_admin_group_edit', {'id': group.id}) }}">
                <span class="icon-users"></span>
            </a>
        </div>
        <div class="title-box-info">
            <div class="title">
                <a href="{{ path('metador_admin_group_edit', {'id': group.id}) }}">
                {{ group.role|replace({'ROLE_': ''})|title }}
                </a>
            </div>
            <div class="alternate" title="{{ group.description }}">
                {{ group.description|teaser(30) }}
            </div>
            <div class="count" title="{% for user in group.users %}{{ user.username ~ "\n" }}{% endfor %}">
                {{ group.users|length }}
            </div>
        </div>
    </div>
    {% endfor %}
    <br/>
{% endblock %}
