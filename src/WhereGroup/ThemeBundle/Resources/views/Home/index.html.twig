{% extends 'MetadorThemeBundle:Theme:template.html.twig' %}

{% if profile is defined %}
    {% set formPath   = 'metadata_index' %}
    {% set formParams = { 'profile' :  profile } %}
{% else %}
    {% set formPath   = 'metador_home' %}
    {% set formParams = {} %}
{% endif %}

{% block center %}
    {% include 'MetadorThemeBundle:Home:map.html.twig' %}

    <div class="home -js-home">
        <div class="source">
            <ul class="source-list">
                {% for slug, source in sourceConfig %}
                    <li class="source-liste-item -js-source {% if loop.first %}active{% endif %}"
                        data-id="source-{{ slug }}">{{ source['name'] }}</li>
                {% endfor %}
            </ul>
            {% include 'MetadorThemeBundle:Home:new-profile.html.twig' %}
        </div>
        <div class="search-content">
            {% include 'MetadorThemeBundle:Theme:notify.html.twig' %}
            {% include 'MetadorThemeBundle:Home:result.html.twig' %}
        </div>
    </div>
{% endblock %}

{% block javascript %}
    <script src="{{ asset('assets/vendor/OpenLayers/ol-debug.js') }}"></script>
    {{ parent() }}
    <script src="{{ asset('bundles/metadormap/js/app.js') }}"></script>
    <script src="{{ asset('bundles/metadormap/js/map-ui.js') }}"></script>
    <script src="{{ asset('bundles/metadortheme/home.js') }}"></script>
{% endblock %}
